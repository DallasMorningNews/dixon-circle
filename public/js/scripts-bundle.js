$(document).ready(function(){function e(e){d.addSource("locations",{type:"geojson",data:e}),d.addLayer({id:"dixonCircle",source:"locations",type:"circle",paint:{"circle-radius":{stops:[[1,11],[8,9],[16,7]]},"circle-color":"#d73027","circle-opacity":1}}),d.on("click",function(e){var a=d.queryRenderedFeatures(e.point,{layers:["dixonCircle"]});if(a.length){var t=a[0];i.setLngLat(t.geometry.coordinates).setHTML(t.properties.number).addTo(d),o(a[0].geometry.coordinates,17,750,0)}}),d.on("mousemove",function(e){var o=d.queryRenderedFeatures(e.point,{layers:["dixonCircle"]});d.getCanvas().style.cursor=o.length?"pointer":""})}function o(e,o,a,t){d.easeTo({center:e,zoom:o,duration:a,pitch:t})}function a(){c=[];var e=$(window).scrollTop(),a=$(window).height(),t=a+e;$.each($(".dixonSection"),function(){t>$(this).offset().top+200&&c.push($(this).attr("id"))});var n=c.length;c[n-1]!==m&&void 0!==c[n-1]?(o(s.features[n-1].geometry.coordinates,17,750,0),i.setLngLat(s.features[n-1].geometry.coordinates).setHTML(s.features[n-1].properties.number).addTo(d),m=c[n-1]):void 0===c[n-1]&&(o(l,15,750,0),i.remove(),i=new mapboxgl.Popup,m=""),t>$(".credits").offset().top&&(o(l,15,750,0),i.remove(),i=new mapboxgl.Popup)}function t(){$("#map").hasClass("viewable")===!0?($("#map").removeClass("viewable"),$("#mapExpander").removeClass("fa-times").addClass("fa-map-marker"),$("body").removeClass("noScroll")):($("#map").addClass("viewable"),$("#mapExpander").removeClass("fa-map-marker").addClass("fa-times"),$("body").addClass("noScroll"))}var n=new Date,r=n.getFullYear();$(".copyright").text(r);var l=[-96.7371063,32.7628376],s=[{number:"1",lng:-96.7332026,lat:32.7651497},{number:"2",lng:-96.7353841,lat:32.7637329},{number:"3",lng:-96.7342684,lat:32.763229},{number:"4",lng:-96.7334224,lat:32.7643927},{number:"5",lng:-96.7342638,lat:32.7643172},{number:"6",lng:-96.7385599,lat:32.7614752},{number:"7",lng:-96.7347115,lat:32.7652384},{number:"8",lng:-96.7337592,lat:32.763672}];s=GeoJSON.parse(s,{Point:["lat","lng"],include:["number"]});var i=new mapboxgl.Popup;mapboxgl.accessToken="pk.eyJ1IjoibWFjbWFuIiwiYSI6ImVEbmNmZjAifQ.zVzy9cyjNT1tMYOTex51HQ";var d=new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/satellite-streets-v9",center:l,zoom:15});d.on("load",function(){d.scrollZoom.disable(),d.addControl(new mapboxgl.Navigation),e(s)}),$("#mapReset").on("click",function(){o(l,15,750,0),i.remove(),i=new mapboxgl.Popup});var m,c=[];$(window).on("scroll",_.throttle(a,600)),$(window).scroll(function(){$(window).scrollTop()>52?($("#mapReset").addClass("moved"),$(".mapboxgl-ctrl-top-right").addClass("moved"),$("#mapExpander").addClass("moved")):($("#mapReset").removeClass("moved"),$(".mapboxgl-ctrl-top-right").removeClass("moved"),$("#mapExpander").removeClass("moved"))}),$("#mapExpander").click(function(){t()}),$(".mapper").click(function(){t()});var p=$(".dixonStories ul li");p.click(function(){$(this).addClass("activeItem").siblings("li").removeClass("activeItem");var e=$(this).index();$(this).parent("ul").siblings(".dixonStory").addClass("noShow").eq(e).removeClass("noShow")})});
//# sourceMappingURL=scripts-bundle.js.map
